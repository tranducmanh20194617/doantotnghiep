{"version":3,"file":"init.js","sourceRoot":"","sources":["../../../../src/cli/commands/hydrogen/init.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,oCAAoC,CAAA;AACxD,OAAO,EAAC,UAAU,EAAC,MAAM,8BAA8B,CAAA;AACvD,OAAO,EAAC,IAAI,EAAC,MAAM,8BAA8B,CAAA;AAEjD,MAAqB,IAAK,SAAQ,OAAO;IAKvC,KAAK,CAAC,GAAG;QACP,MAAM,IAAI,GAAG,CAAC,MAAM,EAAE,0BAA0B,CAAC,CAAA;QAEjD,8CAA8C;QAC9C,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;QAC9C,MAAM,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAA;QAE/C,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;YACf,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAA;SACpB;QAED,IAAI;YACF,MAAM,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,EAAC,KAAK,EAAE,SAAS,EAAC,CAAC,CAAA;SAC5C;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,KAAK,YAAY,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;gBAC9D,UAAU,CAAC,0BAA0B,CAAC,CAAA;aACvC;iBAAM;gBACL,MAAM,KAAK,CAAA;aACZ;SACF;IACH,CAAC;;AAzBM,YAAO,GAAG,+BAA+B,CAAA;AACzC,WAAM,GAAG,KAAK,CAAA;AACd,WAAM,GAAG,IAAI,CAAA;eAHD,IAAI","sourcesContent":["import Command from '@shopify/cli-kit/node/base-command'\nimport {outputInfo} from '@shopify/cli-kit/node/output'\nimport {exec} from '@shopify/cli-kit/node/system'\n\nexport default class Init extends Command {\n  static summary = 'Create a new hydrogen project'\n  static strict = false\n  static hidden = true\n\n  async run(): Promise<void> {\n    const args = ['exec', '@shopify/create-hydrogen']\n\n    // Remove everything before the `init` command\n    const initIndex = process.argv.indexOf('init')\n    const flags = process.argv.slice(initIndex + 1)\n\n    if (flags.length > 0) {\n      args.push('--')\n      args.push(...flags)\n    }\n\n    try {\n      await exec('npm', args, {stdio: 'inherit'})\n    } catch (error) {\n      if (error instanceof Error && error.message.includes('SIGINT')) {\n        outputInfo('Hydrogen init cancelled.')\n      } else {\n        throw error\n      }\n    }\n  }\n}\n"]}