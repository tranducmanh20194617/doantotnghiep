{"version":3,"file":"fetch-template-specifications.js","sourceRoot":"","sources":["../../../../src/cli/services/generate/fetch-template-specifications.ts"],"names":[],"mappings":"AACA,OAAO,cAAc,MAAM,sDAAsD,CAAA;AACjF,OAAO,8BAA8B,MAAM,kEAAkE,CAAA;AAC7G,OAAO,mBAAmB,MAAM,iEAAiE,CAAA;AAGjG,MAAM,CAAC,KAAK,UAAU,uBAAuB,CAC3C,uBAAgD,EAChD,MAAc,EACd,uBAAiC;IAEjC,MAAM,eAAe,GAAwB,MAAM,uBAAuB,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAA;IACzG,MAAM,SAAS,GAAG,eAAe,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAA;IACxE,qFAAqF;IACrF,MAAM,cAAc,GAAG,uBAAuB,EAAE,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAA;IAC/G,MAAM,YAAY,GAAG,eAAe,CAAC,MAAM,CAAC,cAAc,CAAC,CAAA;IAC3D,OAAO,YAAY,CAAC,MAAM,CACxB,CAAC,QAAQ,EAAE,EAAE,CACX,uBAAuB,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC;QACrD,uBAAuB,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAE,CAAC,IAAI,CAAC,CAC5D,CAAA;AACH,CAAC;AAED,MAAM,UAAU,uBAAuB;IACrC,OAAO,CAAC,cAAc,EAAE,8BAA8B,EAAE,mBAAmB,CAAC,CAAA;AAC9E,CAAC","sourcesContent":["import {ExtensionTemplate} from '../../models/app/template.js'\nimport themeExtension from '../../models/templates/theme-specifications/theme.js'\nimport productSubscriptionUIExtension from '../../models/templates/ui-specifications/product_subscription.js'\nimport webPixelUIExtension from '../../models/templates/ui-specifications/web_pixel_extension.js'\nimport {DeveloperPlatformClient} from '../../utilities/developer-platform-client.js'\n\nexport async function fetchExtensionTemplates(\n  developerPlatformClient: DeveloperPlatformClient,\n  apiKey: string,\n  availableSpecifications: string[],\n): Promise<ExtensionTemplate[]> {\n  const remoteTemplates: ExtensionTemplate[] = await developerPlatformClient.templateSpecifications(apiKey)\n  const remoteIDs = remoteTemplates.map((template) => template.identifier)\n  // Filter out local templates that are already available remotely to avoid duplicates\n  const lcoalTemplates = localExtensionTemplates().filter((template) => !remoteIDs.includes(template.identifier))\n  const allTemplates = remoteTemplates.concat(lcoalTemplates)\n  return allTemplates.filter(\n    (template) =>\n      availableSpecifications.includes(template.identifier) ||\n      availableSpecifications.includes(template.types[0]!.type),\n  )\n}\n\nexport function localExtensionTemplates(): ExtensionTemplate[] {\n  return [themeExtension, productSubscriptionUIExtension, webPixelUIExtension]\n}\n"]}