{"version":3,"file":"load-specifications.js","sourceRoot":"","sources":["../../../../src/cli/models/extensions/load-specifications.ts"],"names":[],"mappings":"AACA,OAAO,WAAW,EAAE,EAAC,qBAAqB,EAAC,MAAM,yCAAyC,CAAA;AAC1F,OAAO,YAAY,EAAE,EAAC,sBAAsB,EAAC,MAAM,0CAA0C,CAAA;AAC7F,OAAO,UAAU,EAAE,EAAC,iBAAiB,EAAC,MAAM,8CAA8C,CAAA;AAC1F,OAAO,eAAe,EAAE,EAAC,sBAAsB,EAAC,MAAM,wCAAwC,CAAA;AAC9F,OAAO,eAAe,EAAE,EAAC,sBAAsB,EAAC,MAAM,yCAAyC,CAAA;AAC/F,OAAO,aAAa,EAAE,EAAC,uBAAuB,EAAC,MAAM,2CAA2C,CAAA;AAChG,OAAO,wBAAwB,EAAE,EAC/B,uCAAuC,GACxC,MAAM,4DAA4D,CAAA;AACnE,OAAO,wBAAwB,MAAM,4CAA4C,CAAA;AACjF,OAAO,YAAY,MAAM,2CAA2C,CAAA;AACpE,OAAO,uBAAuB,MAAM,iCAAiC,CAAA;AACrE,OAAO,gBAAgB,MAAM,mCAAmC,CAAA;AAChE,OAAO,wBAAwB,MAAM,kCAAkC,CAAA;AACvE,OAAO,YAAY,MAAM,8BAA8B,CAAA;AACvD,OAAO,oBAAoB,MAAM,4CAA4C,CAAA;AAC7E,OAAO,SAAS,MAAM,sCAAsC,CAAA;AAC5D,OAAO,uBAAuB,MAAM,0CAA0C,CAAA;AAC9E,OAAO,kBAAkB,MAAM,qCAAqC,CAAA;AACpE,OAAO,SAAS,MAAM,2BAA2B,CAAA;AACjD,OAAO,eAAe,MAAM,kCAAkC,CAAA;AAC9D,OAAO,YAAY,MAAM,yCAAyC,CAAA;AAClE,OAAO,sCAAsC,MAAM,iDAAiD,CAAA;AAEpG,MAAM,qCAAqC,GAAG;IAC5C,sBAAsB;IACtB,uBAAuB;IACvB,sBAAsB;IACtB,uCAAuC;IACvC,sBAAsB;IACtB,iBAAiB;IACjB,qBAAqB;CACtB,CAAA;AAED;;GAEG;AACH,MAAM,CAAC,KAAK,UAAU,iCAAiC;IACrD,MAAM,iBAAiB,GAAG,CAAC,KAA6B,EAAE,KAA6B,EAAE,EAAE,CACzF,qCAAqC,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC;QAC/D,qCAAqC,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;IACjE,OAAO,kBAAkB,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA;AACrD,CAAC;AAED,SAAS,kBAAkB;IACzB,MAAM,iBAAiB,GAAG;QACxB,aAAa;QACb,WAAW;QACX,YAAY;QACZ,eAAe;QACf,UAAU;QACV,wBAAwB;QACxB,eAAe;KAChB,CAAA;IACD,MAAM,WAAW,GAAG;QAClB,wBAAwB;QACxB,YAAY;QACZ,uBAAuB;QACvB,gBAAgB;QAChB,wBAAwB;QACxB,YAAY;QACZ,oBAAoB;QACpB,SAAS;QACT,uBAAuB;QACvB,kBAAkB;QAClB,SAAS;QACT,eAAe;QACf,YAAY;QACZ,sCAAsC;KACX,CAAA;IAE7B,OAAO,CAAC,GAAG,iBAAiB,EAAE,GAAG,WAAW,CAAC,CAAA;AAC/C,CAAC","sourcesContent":["import {ExtensionSpecification} from './specification.js'\nimport appHomeSpec, {AppHomeSpecIdentifier} from './specifications/app_config_app_home.js'\nimport appProxySpec, {AppProxySpecIdentifier} from './specifications/app_config_app_proxy.js'\nimport appPOSSpec, {PosSpecIdentifier} from './specifications/app_config_point_of_sale.js'\nimport appWebhooksSpec, {WebhooksSpecIdentifier} from './specifications/app_config_webhook.js'\nimport appBrandingSpec, {BrandingSpecIdentifier} from './specifications/app_config_branding.js'\nimport appAccessSpec, {AppAccessSpecIdentifier} from './specifications/app_config_app_access.js'\nimport appPrivacyComplienceSpec, {\n  PrivacyComplianceWebhooksSpecIdentifier,\n} from './specifications/app_config_privacy_compliance_webhooks.js'\nimport checkoutPostPurchaseSpec from './specifications/checkout_post_purchase.js'\nimport checkoutSpec from './specifications/checkout_ui_extension.js'\nimport flowActionSpecification from './specifications/flow_action.js'\nimport flowTemplateSpec from './specifications/flow_template.js'\nimport flowTriggerSpecification from './specifications/flow_trigger.js'\nimport functionSpec from './specifications/function.js'\nimport paymentExtensionSpec from './specifications/payments_app_extension.js'\nimport posUISpec from './specifications/pos_ui_extension.js'\nimport productSubscriptionSpec from './specifications/product_subscription.js'\nimport taxCalculationSpec from './specifications/tax_calculation.js'\nimport themeSpec from './specifications/theme.js'\nimport uiExtensionSpec from './specifications/ui_extension.js'\nimport webPixelSpec from './specifications/web_pixel_extension.js'\nimport editorExtensionCollectionSpecification from './specifications/editor_extension_collection.js'\n\nconst SORTED_CONFIGURATION_SPEC_IDENTIFIERS = [\n  BrandingSpecIdentifier,\n  AppAccessSpecIdentifier,\n  WebhooksSpecIdentifier,\n  PrivacyComplianceWebhooksSpecIdentifier,\n  AppProxySpecIdentifier,\n  PosSpecIdentifier,\n  AppHomeSpecIdentifier,\n]\n\n/**\n * Load all specifications ONLY from the local file system\n */\nexport async function loadLocalExtensionsSpecifications(): Promise<ExtensionSpecification[]> {\n  const sortConfigModules = (specA: ExtensionSpecification, specB: ExtensionSpecification) =>\n    SORTED_CONFIGURATION_SPEC_IDENTIFIERS.indexOf(specA.identifier) -\n    SORTED_CONFIGURATION_SPEC_IDENTIFIERS.indexOf(specB.identifier)\n  return loadSpecifications().sort(sortConfigModules)\n}\n\nfunction loadSpecifications() {\n  const configModuleSpecs = [\n    appAccessSpec,\n    appHomeSpec,\n    appProxySpec,\n    appBrandingSpec,\n    appPOSSpec,\n    appPrivacyComplienceSpec,\n    appWebhooksSpec,\n  ]\n  const moduleSpecs = [\n    checkoutPostPurchaseSpec,\n    checkoutSpec,\n    flowActionSpecification,\n    flowTemplateSpec,\n    flowTriggerSpecification,\n    functionSpec,\n    paymentExtensionSpec,\n    posUISpec,\n    productSubscriptionSpec,\n    taxCalculationSpec,\n    themeSpec,\n    uiExtensionSpec,\n    webPixelSpec,\n    editorExtensionCollectionSpecification,\n  ] as ExtensionSpecification[]\n\n  return [...configModuleSpecs, ...moduleSpecs]\n}\n"]}