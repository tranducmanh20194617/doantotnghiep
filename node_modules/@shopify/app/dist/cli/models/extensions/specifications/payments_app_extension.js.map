{"version":3,"file":"payments_app_extension.js","sourceRoot":"","sources":["../../../../../src/cli/models/extensions/specifications/payments_app_extension.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,cAAc,EAEd,iCAAiC,EACjC,uCAAuC,GACxC,MAAM,2EAA2E,CAAA;AAClF,OAAO,EACL,iBAAiB,EAEjB,0CAA0C,EAC1C,oCAAoC,GACrC,MAAM,8EAA8E,CAAA;AACrF,OAAO,EACL,oBAAoB,EAEpB,4CAA4C,EAC5C,sCAAsC,GACvC,MAAM,iFAAiF,CAAA;AACxF,OAAO,EACL,yBAAyB,EAEzB,gDAAgD,EAChD,0CAA0C,GAC3C,MAAM,sFAAsF,CAAA;AAC7F,OAAO,EACL,kBAAkB,EAElB,oCAAoC,EACpC,0CAA0C,GAC3C,MAAM,+EAA+E,CAAA;AACtF,OAAO,EAAC,4BAA4B,EAAC,MAAM,qBAAqB,CAAA;AAChE,OAAO,EAAC,GAAG,EAAC,MAAM,8BAA8B,CAAA;AAEhD,MAAM,0BAA0B,GAAG,GAAG,CAAC,KAAK,CAAC;IAC3C,iCAAiC;IACjC,oCAAoC;IACpC,sCAAsC;IACtC,0CAA0C;IAC1C,oCAAoC;CACrC,CAAC,CAAA;AAIF,MAAM,oBAAoB,GAAG,4BAA4B,CAAC;IACxD,UAAU,EAAE,oBAAoB;IAChC,MAAM,EAAE,0BAA0B;IAClC,iBAAiB,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;IAC5B,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE;QAChC,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAE,CAAC,MAAM,CAAA;QAC1C,QAAQ,MAAM,EAAE;YACd,KAAK,cAAc;gBACjB,OAAO,uCAAuC,CAAC,MAA+C,CAAC,CAAA;YACjG,KAAK,iBAAiB;gBACpB,OAAO,0CAA0C,CAAC,MAAkD,CAAC,CAAA;YACvG,KAAK,kBAAkB;gBACrB,OAAO,0CAA0C,CAAC,MAAkD,CAAC,CAAA;YACvG,KAAK,oBAAoB;gBACvB,OAAO,4CAA4C,CAAC,MAAoD,CAAC,CAAA;YAC3G,KAAK,yBAAyB;gBAC5B,OAAO,gDAAgD,CACrD,MAAwD,CACzD,CAAA;YACH;gBACE,OAAO,EAAE,CAAA;SACZ;IACH,CAAC;CACF,CAAC,CAAA;AAEF,eAAe,oBAAoB,CAAA","sourcesContent":["import {\n  OFFSITE_TARGET,\n  OffsitePaymentsAppExtensionConfigType,\n  OffsitePaymentsAppExtensionSchema,\n  offsitePaymentsAppExtensionDeployConfig,\n} from './payments_app_extension_schemas/offsite_payments_app_extension_schema.js'\nimport {\n  REDEEMABLE_TARGET,\n  RedeemablePaymentsAppExtensionConfigType,\n  redeemablePaymentsAppExtensionDeployConfig,\n  RedeemablePaymentsAppExtensionSchema,\n} from './payments_app_extension_schemas/redeemable_payments_app_extension_schema.js'\nimport {\n  CUSTOM_ONSITE_TARGET,\n  CustomOnsitePaymentsAppExtensionConfigType,\n  customOnsitePaymentsAppExtensionDeployConfig,\n  CustomOnsitePaymentsAppExtensionSchema,\n} from './payments_app_extension_schemas/custom_onsite_payments_app_extension_schema.js'\nimport {\n  CUSTOM_CREDIT_CARD_TARGET,\n  CustomCreditCardPaymentsAppExtensionConfigType,\n  customCreditCardPaymentsAppExtensionDeployConfig,\n  CustomCreditCardPaymentsAppExtensionSchema,\n} from './payments_app_extension_schemas/custom_credit_card_payments_app_extension_schema.js'\nimport {\n  CREDIT_CARD_TARGET,\n  CreditCardPaymentsAppExtensionConfigType,\n  CreditCardPaymentsAppExtensionSchema,\n  creditCardPaymentsAppExtensionDeployConfig,\n} from './payments_app_extension_schemas/credit_card_payments_app_extension_schema.js'\nimport {createExtensionSpecification} from '../specification.js'\nimport {zod} from '@shopify/cli-kit/node/schema'\n\nconst PaymentsAppExtensionSchema = zod.union([\n  OffsitePaymentsAppExtensionSchema,\n  RedeemablePaymentsAppExtensionSchema,\n  CustomOnsitePaymentsAppExtensionSchema,\n  CustomCreditCardPaymentsAppExtensionSchema,\n  CreditCardPaymentsAppExtensionSchema,\n])\n\nexport type PaymentsAppExtensionConfigType = zod.infer<typeof PaymentsAppExtensionSchema>\n\nconst paymentExtensionSpec = createExtensionSpecification({\n  identifier: 'payments_extension',\n  schema: PaymentsAppExtensionSchema,\n  appModuleFeatures: (_) => [],\n  deployConfig: async (config, _) => {\n    const target = config.targeting[0]!.target\n    switch (target) {\n      case OFFSITE_TARGET:\n        return offsitePaymentsAppExtensionDeployConfig(config as OffsitePaymentsAppExtensionConfigType)\n      case REDEEMABLE_TARGET:\n        return redeemablePaymentsAppExtensionDeployConfig(config as RedeemablePaymentsAppExtensionConfigType)\n      case CREDIT_CARD_TARGET:\n        return creditCardPaymentsAppExtensionDeployConfig(config as CreditCardPaymentsAppExtensionConfigType)\n      case CUSTOM_ONSITE_TARGET:\n        return customOnsitePaymentsAppExtensionDeployConfig(config as CustomOnsitePaymentsAppExtensionConfigType)\n      case CUSTOM_CREDIT_CARD_TARGET:\n        return customCreditCardPaymentsAppExtensionDeployConfig(\n          config as CustomCreditCardPaymentsAppExtensionConfigType,\n        )\n      default:\n        return {}\n    }\n  },\n})\n\nexport default paymentExtensionSpec\n"]}