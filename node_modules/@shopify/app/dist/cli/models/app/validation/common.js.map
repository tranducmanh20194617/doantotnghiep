{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../../../src/cli/models/app/validation/common.ts"],"names":[],"mappings":"AAEA,2EAA2E;AAC3E,MAAM,CAAC,MAAM,UAAU,GAAG,eAAe,CAAA;AACzC,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,OAAsB,EAAE,EAAC,SAAS,GAAG,KAAK,EAAE,OAAO,GAAG,aAAa,EAAC,GAAG,EAAE,EAAE,EAAE;IACvG,MAAM,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,gBAAgB,CAAA;IACvD,OAAO,OAAO;SACX,GAAG,EAAE;SACL,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,OAAO,EAAC,CAAC;SACzD,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAC,OAAO,EAAC,CAAC,CAAA;AACxD,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,yBAAyB,GAAG,CAAC,GAAY,EAAE,EAAE,CACxD,OAAO,GAAG,KAAK,QAAQ,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAA","sourcesContent":["import {zod} from '@shopify/cli-kit/node/schema'\n\n// adding http or https presence and absence of new lines to url validation\nexport const httpsRegex = /^(https:\\/\\/)/\nexport const validateUrl = (zodType: zod.ZodString, {httpsOnly = false, message = 'Invalid url'} = {}) => {\n  const regex = httpsOnly ? httpsRegex : /^(https?:\\/\\/)/\n  return zodType\n    .url()\n    .refine((value) => Boolean(value.match(regex)), {message})\n    .refine((value) => !value.includes('\\n'), {message})\n}\n\nexport const ensurePathStartsWithSlash = (arg: unknown) =>\n  typeof arg === 'string' && !arg.startsWith('/') ? `/${arg}` : arg\n"]}